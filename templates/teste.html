{% extends 'base.html' %}
{% load static %}

{% block title %}
    Departamentos
{% endblock title %}


{% block corpo %}

<style>
    body {
        background-color:rgb(235, 232, 232);
        border-style:none;
    }

</style>
<main>
    <div class="container mb-5" id="primeiro">
        <div class="row">
            <div style='background-color:transparent;' class="card mt-5 mt-lg-3 border-0">
                <div class="card-body ">
                    <form>
                        <div class="input-group">
                            <input style="background-color: transparent;" type="search" name='query' class="form-control rounded  border-0 border border-bottom text-light me-1" placeholder="Pesquisar" aria-label="Search"
                            aria-describedby="search-addon" autocomplete="off"/>
                            {% block botao_pesquisa %}
                            <button type="submit" class="btn btn-outline-primary">Procurar</button>
                            {% endblock botao_pesquisa%}
                          </div>
                    </form>
                </div>
            </div>
            <div class="card mt-2 border-0" style='background-color:transparent;'>

                {% block tabela %}
                <div class="card-body">
                    {% if departamentos %}
                    <table class="table table-sm text-center table-striped">
                        <thead>
                            <th scope="col">ID</th>
                            <th scope="col">Departamento</th>
                            <th scope="col">Sigla</th>
                            <th scope="col">Prédio</th>
                            <th scope='col'>Visualizar</th>
                        </thead>
                        <tbody>
                            {% for departamento in departamentos %}
                            <tr>
                                <th scope="row">{{ departamento.id }}</th>
                                <td>{{ departamento.departamento }}</td>
                                <td>{{ departamento.sigla_departamento }}</td>
                                <td>{{ departamento.predio }}</td>
                                <td><a href="{% url 'departamento_visualizar' departamento.id %}"><i class="fas fa-eye"></i></a></td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                    {% else %}
                    <div class='text-center'>
                        <p>Nada Encontrado</p>
                    </div>
                    {% endif %}
                </div>
                
                {% endblock tabela %}
                <div class="container d-flex justify-content-center">
                    <nav aria-label='Paginador navegação'>
                        <ul class="pagination">
                            {% if departamentos.has_previous %}
                            <li class="page-item"><a class="page-link" href="{% url 'departamento' departamentos.previous_page_number %}{% if pesquisa %}?query={{ pesquisa }}{% endif %}">Voltar</a></li>
                            {% endif %}
                            {% if departamento.has_other_pages %}
                            <li class="page-item active"><a class="page-link"  href="#">{{ departamento.number }}</a></li>
                            {% endif %}
                            {% if departamentos.has_next %}
                            <li class="page-item"><a class="page-link" href="{% url 'departamento' departamentos.next_page_number %}{% if pesquisa %}?query={{ pesquisa }}{% endif %}">Next</a></li>
                            {% endif %}
                        </ul>
                    </nav>
                </div>
            </div>
        </div>
    </div>
</main>

{% endblock %}